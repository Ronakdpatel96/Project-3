{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/Project_3_group4-best-group-btw-/src/gameroom/Gameroom.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport BlindChess from './chessboard.js';\n/* eslint-disable */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Gameroom({\n  socket,\n  user_name\n}) {\n  _s();\n\n  const [join, setJoin] = useState(false);\n  const [user_data, setUserData] = useState([]);\n  useEffect(() => {\n    socket.on(\"on_join\", data => {\n      console.log(\"on_join mount \", data);\n      setUserData(data);\n    });\n  }, []);\n  useEffect(() => {\n    socket.on(\"on_join\", data => {\n      console.log(\"on_join mount \", data);\n      setUserData(data);\n    });\n  }, [user_data]);\n\n  function onClickJoin() {\n    setJoin(prev => !prev);\n    console.log(\"on click join \", user_name);\n\n    if (!user_data.includes(user_name)) {\n      user_data.push(user_name);\n    }\n\n    const new_user_data = user_data;\n    setUserData(new_user_data);\n    socket.emit('on_join', new_user_data);\n  }\n\n  function gameStart() {\n    if (!join) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onClickJoin(),\n        children: \" Click to Join \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (user_data.length < 2) {\n      return /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Waiting for other user to join\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 20\n      }, this);\n    }\n\n    const prop_data = {\n      White: user_data[0],\n      Black: user_data[1],\n      Spectator: user_data.slice(2)\n    };\n    return /*#__PURE__*/_jsxDEV(BlindChess, {\n      socket: socket,\n      user_name: user_name,\n      user_data: prop_data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: gameStart()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Gameroom, \"wnKLD5TXP+OtDcQ9006LvjbKlCM=\");\n\n_c = Gameroom;\nexport default Gameroom;\n\nvar _c;\n\n$RefreshReg$(_c, \"Gameroom\");","map":{"version":3,"sources":["/home/ec2-user/environment/Project_3_group4-best-group-btw-/src/gameroom/Gameroom.js"],"names":["React","useState","useEffect","BlindChess","Gameroom","socket","user_name","join","setJoin","user_data","setUserData","on","data","console","log","onClickJoin","prev","includes","push","new_user_data","emit","gameStart","length","prop_data","White","Black","Spectator","slice"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,iBAAvB;AACA;;;AACA,OAAO,SAASC,QAAT,CAAkB;AAACC,EAAAA,MAAD;AAASC,EAAAA;AAAT,CAAlB,EAAuC;AAAA;;AAG1C,QAAM,CAAEC,IAAF,EAAQC,OAAR,IAAoBP,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAAEQ,SAAF,EAAaC,WAAb,IAA6BT,QAAQ,CAAC,EAAD,CAA3C;AAEAC,EAAAA,SAAS,CAAE,MAAM;AACbG,IAAAA,MAAM,CAACM,EAAP,CAAU,SAAV,EAAsBC,IAAD,IAAU;AAC3BC,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,IAA9B;AACAF,MAAAA,WAAW,CAACE,IAAD,CAAX;AACH,KAHD;AAIH,GALQ,EAMP,EANO,CAAT;AAQAV,EAAAA,SAAS,CAAG,MAAM;AACdG,IAAAA,MAAM,CAACM,EAAP,CAAU,SAAV,EAAsBC,IAAD,IAAU;AAC3BC,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,IAA9B;AACAF,MAAAA,WAAW,CAACE,IAAD,CAAX;AACH,KAHD;AAIH,GALQ,EAKN,CAACH,SAAD,CALM,CAAT;;AAQA,WAASM,WAAT,GAAwB;AACpBP,IAAAA,OAAO,CAAEQ,IAAD,IAAU,CAACA,IAAZ,CAAP;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA+BR,SAA/B;;AAGA,QAAI,CAACG,SAAS,CAACQ,QAAV,CAAmBX,SAAnB,CAAL,EAAoC;AAChCG,MAAAA,SAAS,CAACS,IAAV,CAAeZ,SAAf;AACH;;AAED,UAAMa,aAAa,GAAGV,SAAtB;AACAC,IAAAA,WAAW,CAACS,aAAD,CAAX;AACAd,IAAAA,MAAM,CAACe,IAAP,CAAY,SAAZ,EAAuBD,aAAvB;AACH;;AAED,WAASE,SAAT,GAAqB;AACjB,QAAI,CAACd,IAAL,EAAW;AACP,0BAAO;AAAQ,QAAA,OAAO,EAAE,MAAMQ,WAAW,EAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAED,QAAIN,SAAS,CAACa,MAAV,GAAmB,CAAvB,EAA0B;AACtB,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAED,UAAMC,SAAS,GAAG;AAACC,MAAAA,KAAK,EAAEf,SAAS,CAAC,CAAD,CAAjB;AAAsBgB,MAAAA,KAAK,EAAEhB,SAAS,CAAC,CAAD,CAAtC;AAA2CiB,MAAAA,SAAS,EAAEjB,SAAS,CAACkB,KAAV,CAAgB,CAAhB;AAAtD,KAAlB;AAEA,wBAAO,QAAC,UAAD;AAAY,MAAA,MAAM,EAAEtB,MAApB;AAA4B,MAAA,SAAS,EAAEC,SAAvC;AAAkD,MAAA,SAAS,EAAEiB;AAA7D;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAGD,sBACA;AAAA,cACGF,SAAS;AADZ;AAAA;AAAA;AAAA;AAAA,UADA;AAKH;;GAxDejB,Q;;KAAAA,Q;AAyDhB,eAAeA,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport BlindChess from './chessboard.js';\n/* eslint-disable */\nexport function Gameroom({socket, user_name}) {\n    \n    \n    const [ join, setJoin ] = useState(false);\n    const [ user_data, setUserData ] = useState([]);\n    \n    useEffect( () => {\n        socket.on(\"on_join\", (data) => {\n            console.log(\"on_join mount \", data);\n            setUserData(data);\n        });\n    }\n    , [] );\n    \n    useEffect ( () => {\n        socket.on(\"on_join\", (data) => {\n            console.log(\"on_join mount \", data);\n            setUserData(data);\n        });\n    }, [user_data]);\n    \n    \n    function onClickJoin () {\n        setJoin((prev) => !prev);\n        console.log(\"on click join \" , user_name);   \n        \n        \n        if (!user_data.includes(user_name)) {\n            user_data.push(user_name);\n        }\n        \n        const new_user_data = user_data;\n        setUserData(new_user_data);\n        socket.emit('on_join', new_user_data);\n    }\n    \n    function gameStart() {\n        if (!join) {\n            return <button onClick={() => onClickJoin()}> Click to Join </button>;\n        }\n        \n        if (user_data.length < 2) {\n            return <h2>Waiting for other user to join</h2>;\n        }\n        \n        const prop_data = {White: user_data[0], Black: user_data[1], Spectator: user_data.slice(2)}\n        \n        return <BlindChess socket={socket} user_name={user_name} user_data={prop_data}/>;\n    }\n    \n    \n    return (\n    <div>\n      {gameStart()}  \n    </div>\n    );\n}\nexport default Gameroom;"]},"metadata":{},"sourceType":"module"}