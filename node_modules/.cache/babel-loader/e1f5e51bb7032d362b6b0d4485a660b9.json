{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/Project_3_group4-best-group-btw-/src/login/Login.js\",\n    _s = $RefreshSig$();\n\nimport { GoogleLogin } from 'react-google-login';\nimport axios from 'axios';\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Route, Switch, BrowserRouter as Router } from 'react-router-dom';\nimport BlindChess from '../gameroom/chessboard.js';\nimport Chat from '../chat.js'; // https://oauth2.googleapis.com/tokeninfo?id_token={token}\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Login({\n  socket,\n  user,\n  setUser,\n  emailName,\n  setEmail\n}) {\n  _s();\n\n  const [Login, setLogin] = useState(false);\n  const [page, setPage] = useState(false);\n  console.log(\"Is the user logged in? \", Login);\n\n  if (Login == true) {\n    console.log(user);\n    console.log(emailName); //User and email would be used to update the database.\n\n    console.log(\"Time to change page\"); //will have to link this to switchPage to try and switch the page to the next one\n\n    socket.emit('login', {\n      user: user,\n      email: emailName\n    });\n    setLogin(false);\n  }\n\n  const responseGoogle = response => {\n    console.log(response);\n    console.log(response['tokenId']);\n    const url = 'https://oauth2.googleapis.com/tokeninfo?id_token=' + response['tokenId'];\n    axios.get(url).then(name => {\n      const userName = name['data']['given_name'];\n      console.log(name['data']['given_name']);\n      console.log(\"userName\", userName);\n      setUser(setName => userName);\n    });\n    axios.get(url).then(email => {\n      const emailUser = email['data']['email'];\n      console.log(email['data']['email']);\n      console.log(\"emailUser\", emailUser);\n      setEmail(setName => emailUser);\n      setLogin(true);\n      setPage(true);\n    }); //Need to change the webpage to the next page once logged in\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"head\", {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Penalty chess login page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"google-signin-client_id\",\n        content: \"343458998580-0n44n2lqssm0s59tnobhtacdnsmjs302.apps.googleusercontent.com\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n        src: \"https://apis.google.com/js/platform.js\",\n        async: true,\n        defer: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"body\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"loggedIn\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: emailName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), page == true ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"Page1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          class: \"title\",\n          children: \"Penalty Chess\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"google\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Login to play:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(GoogleLogin, {\n              buttonText: \"Login with Google\",\n              onSuccess: responseGoogle,\n              onFailure: responseGoogle,\n              cookiePolicy: 'single_host_origin'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"0yGTPJD9a9ostgbiC8MQiHvTlPY=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/ec2-user/environment/Project_3_group4-best-group-btw-/src/login/Login.js"],"names":["GoogleLogin","axios","React","useState","useRef","useEffect","Route","Switch","BrowserRouter","Router","BlindChess","Chat","Login","socket","user","setUser","emailName","setEmail","setLogin","page","setPage","console","log","emit","email","responseGoogle","response","url","get","then","name","userName","setName","emailUser"],"mappings":"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","sourcesContent":["import { GoogleLogin } from 'react-google-login';\nimport axios from 'axios';\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Route, Switch, BrowserRouter as Router } from 'react-router-dom';\nimport BlindChess from '../gameroom/chessboard.js';\nimport Chat from '../chat.js';\n\n// https://oauth2.googleapis.com/tokeninfo?id_token={token}\n\nexport function Login({ socket, user, setUser, emailName, setEmail }) {\n    const [Login, setLogin] = useState(false);\n    const [page, setPage] = useState(false);\n\n    console.log(\"Is the user logged in? \",Login);\n    if(Login == true){\n        console.log(user);\n        console.log(emailName);         //User and email would be used to update the database.\n        console.log(\"Time to change page\"); //will have to link this to switchPage to try and switch the page to the next one\n        socket.emit('login', { user: user , email: emailName});\n        setLogin(false);\n        }\n        \n    \n    const responseGoogle = (response) => {\n        console.log(response);\n        console.log(response['tokenId']);\n        \n        const url = 'https://oauth2.googleapis.com/tokeninfo?id_token=' + response['tokenId'];\n        \n        axios.get(url)\n            .then(name => { \n                const userName = name['data']['given_name'];\n                \n                \n                console.log(name['data']['given_name']);\n                console.log(\"userName\",userName);\n                setUser(setName => userName);\n            });\n            \n            \n        axios.get(url)\n            .then(email => {\n                const emailUser = email['data']['email'];\n                console.log(email['data']['email']);\n                console.log(\"emailUser\",emailUser);\n                setEmail(setName => emailUser);\n                setLogin(true);\n                setPage(true);\n            });\n            \n        //Need to change the webpage to the next page once logged in\n        };\n    \n    return(\n        <div class=\"login\">\n            <head>\n                <title>Penalty chess login page</title>\n                <meta name=\"google-signin-client_id\" content=\"343458998580-0n44n2lqssm0s59tnobhtacdnsmjs302.apps.googleusercontent.com\"/>\n                <script src=\"https://apis.google.com/js/platform.js\" async defer></script>\n            </head>\n            <body>\n                <div class=\"loggedIn\">\n                    <h4>{user}</h4>\n                    <h4>{emailName}</h4>\n                </div>\n                \n                {page == true ? null : (\n                <div class='Page1'>\n                <h1 class=\"title\">Penalty Chess</h1>\n                \n                <br/>\n                <br/>\n                <br/>\n            \n                <div>\n                    <div class=\"google\">\n                \n                    <h3>Login to play:</h3>\n                    \n                            <br/>\n                            <GoogleLogin\n                            buttonText=\"Login with Google\"\n                            onSuccess={responseGoogle}\n                            onFailure={responseGoogle}\n                            cookiePolicy={'single_host_origin'}\n                        />\n                        </div>\n                    </div>\n                </div> )}\n                \n                \n            </body>\n        </div> \n);\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}