{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/Project_3_group4-best-group-btw-/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport { GoogleLogin } from 'react-google-login';\nimport axios from 'axios';\nimport React, { useState, useRef, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { Sample } from './board';\nimport BlindChess from './chessboard.js';\nimport Chat from './chat.js';\nimport Stats from './Stats.js'; // https://oauth2.googleapis.com/tokeninfo?id_token={token}\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io();\nexport function Login() {\n  _s();\n\n  const [Login, setLogin] = useState(false);\n  const [page, setPage] = useState(false);\n  const [user, setUser] = useState([]);\n  const [emailName, setEmail] = useState([]);\n  const [shown, setShown] = useState(false);\n  const [stats, setStats] = useState([]);\n  console.log(\"Is the user logged in? \", Login);\n\n  if (Login == true) {\n    console.log(user);\n    console.log(emailName); //User and email would be used to update the database.\n\n    console.log(\"Time to change page\"); //will have to link this to switchPage to try and switch the page to the next one\n\n    socket.emit('login', {\n      user: user,\n      email: emailName\n    });\n    socket.emit('joined', {\n      user: user,\n      email: emailName\n    });\n    setLogin(false);\n  } //console.log(\"User\", user);\n\n\n  const responseGoogle = response => {\n    //console.log(response);\n    // console.log(response['tokenId']);\n    const url = 'https://oauth2.googleapis.com/tokeninfo?id_token=' + response['tokenId'];\n    axios.get(url).then(name => {\n      const userName = name['data']['given_name'];\n      const emailUser = name['data']['email'];\n      console.log(name['data']['given_name']);\n      console.log(\"userName\", userName);\n      setUser(setName => userName);\n      socket.emit('user', {\n        user: user\n      });\n      setEmail(setName => emailUser);\n      setLogin(true);\n      setPage(true);\n    });\n  };\n\n  const [Player, setPlayer] = useState([]);\n  const [PlayerE, setPlayerE] = useState([]);\n  const [Spectator, setSpectator] = useState([]);\n  const [user1, setUser1] = useState([]);\n  useEffect(() => {\n    socket.on('LoginName', LoginName => {\n      console.log('New Player was added to the game');\n      console.log(\"current Player\", LoginName);\n      var userName = LoginName;\n      setUser1(name => userName);\n    });\n    socket.on('Players', Players => {\n      console.log(\"Players\", Players);\n      setPlayer(stats => Players);\n    });\n    socket.on('Emails', Emails => {\n      console.log(Emails);\n      setPlayerE(stats => Emails);\n    });\n    socket.on('Spectators', Spectators => {\n      console.log(Spectators);\n      setSpectator(stats => Spectators);\n    });\n  }, []);\n  const player1 = Player[0];\n  const player2 = Player[1];\n  const player1E = PlayerE[0];\n  const player2E = PlayerE[1];\n  const user_data = {\n    'Black': player1,\n    'White': player2,\n    'Spectator': Spectator\n  };\n  console.log(user_data);\n  console.log(player1E, player2E);\n  console.log(\"Two Players: \", player1, player2);\n  var color;\n\n  if (user == player1 && emailName == player1E) {\n    color = 'White';\n  } else if (user == player2 && emailName == player2E) {\n    color = 'Black';\n  } else {\n    color = 'Spectator';\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"head\", {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Penalty chess login page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"google-signin-client_id\",\n        content: \"343458998580-0n44n2lqssm0s59tnobhtacdnsmjs302.apps.googleusercontent.com\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n        src: \"https://apis.google.com/js/platform.js\",\n        async: true,\n        defer: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"loggedIn\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: emailName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), page == true ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"Page1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          class: \"title\",\n          id: \"top\",\n          children: \"Penalty Chess\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"google\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Login to play:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(GoogleLogin, {\n              buttonText: \"Login with Google\",\n              onSuccess: responseGoogle,\n              onFailure: responseGoogle,\n              cookiePolicy: 'single_host_origin'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"Page2\",\n        children: page === false ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"chessBoard\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"google\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: [\"Hello: \", user]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"Players: \", player1, \", \", player2]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\" Spectators: \", Spectator, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"board\",\n            id: user,\n            children: /*#__PURE__*/_jsxDEV(BlindChess, {\n              socket: socket,\n              user_data: user_data,\n              user_name: color\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat\",\n            children: /*#__PURE__*/_jsxDEV(Chat, {\n              className: \"chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Stats\",\n            children: /*#__PURE__*/_jsxDEV(Stats, {\n              className: \"Stats\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"Ks7L9fjMCpoVKJ9Ksr5A7KgewyQ=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/ec2-user/environment/Project_3_group4-best-group-btw-/src/Login.js"],"names":["GoogleLogin","axios","React","useState","useRef","useEffect","io","Sample","BlindChess","Chat","Stats","socket","Login","setLogin","page","setPage","user","setUser","emailName","setEmail","shown","setShown","stats","setStats","console","log","emit","email","responseGoogle","response","url","get","then","name","userName","emailUser","setName","Player","setPlayer","PlayerE","setPlayerE","Spectator","setSpectator","user1","setUser1","on","LoginName","Players","Emails","Spectators","player1","player2","player1E","player2E","user_data","color"],"mappings":"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","sourcesContent":["import './App.css';\nimport { GoogleLogin } from 'react-google-login';\nimport axios from 'axios';\nimport React, { useState, useRef, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { Sample } from './board';\nimport BlindChess from './chessboard.js';\nimport Chat from './chat.js';\nimport Stats from './Stats.js'\n\n// https://oauth2.googleapis.com/tokeninfo?id_token={token}\nconst socket = io();\n\nexport function Login() {\n    const [Login, setLogin] = useState(false);\n    const [page, setPage] = useState(false);\n    const [user, setUser] = useState([]);\n    const [emailName, setEmail] = useState([]);\n    const [shown, setShown] = useState(false);\n    const [stats, setStats] = useState([]);\n    \n\n    console.log(\"Is the user logged in? \", Login);\n\n    if(Login == true){\n        console.log(user);\n        console.log(emailName);         //User and email would be used to update the database.\n        console.log(\"Time to change page\"); //will have to link this to switchPage to try and switch the page to the next one\n        socket.emit('login', { user: user , email: emailName});\n        socket.emit('joined', { user: user , email: emailName});\n        setLogin(false);\n        }\n    \n    //console.log(\"User\", user);\n\n    \n    const responseGoogle = (response) => {\n        //console.log(response);\n       // console.log(response['tokenId']);\n        const url = 'https://oauth2.googleapis.com/tokeninfo?id_token=' + response['tokenId'];\n        \n        axios.get(url)\n            .then(name => {\n                const userName = name['data']['given_name'];\n                const emailUser = name['data']['email'];\n                \n                console.log(name['data']['given_name']);\n                console.log(\"userName\",userName);\n                \n                setUser(setName => userName);\n                socket.emit('user', {user:user});\n                setEmail(setName => emailUser);\n                \n                setLogin(true);\n                setPage(true);\n            });\n    };\n    \n    const [Player, setPlayer] = useState([]);\n    const [PlayerE, setPlayerE] = useState([]);\n    const [Spectator, setSpectator] = useState([]);\n    const [user1, setUser1] = useState([]);\n\n\n  \n    useEffect(() => {\n            socket.on('LoginName', (LoginName) => {\n              console.log('New Player was added to the game');\n              console.log(\"current Player\",LoginName);\n              var userName = LoginName;\n              setUser1( name => userName);\n            });\n            socket.on('Players', (Players) => {\n                console.log(\"Players\",Players);\n                setPlayer(stats => Players);\n            });\n            \n            socket.on('Emails', (Emails) => {\n                console.log(Emails);\n                setPlayerE(stats => Emails);\n            });\n            \n            socket.on('Spectators', (Spectators) => {\n                console.log(Spectators);\n                setSpectator(stats => Spectators);\n            });\n            \n        }, []);\n        \n        \n    const player1 = Player[0];\n    const player2 = Player[1];\n    \n    const player1E = PlayerE[0];\n    const player2E = PlayerE[1];\n\n    \n    const user_data = { 'Black': player1, 'White': player2, 'Spectator' : Spectator };\n    \n    console.log(user_data);\n    console.log(player1E,player2E);\n    \n    console.log(\"Two Players: \",player1,player2); \n    var color;\n    if(user == player1 && emailName == player1E ){\n        color = 'White';\n    }\n    else if(user == player2 && emailName == player2E){\n        color = 'Black';\n    }\n    else{\n        color = 'Spectator';\n    }\n\n    return(\n        <div class=\"login\">\n            <head>\n                <title>Penalty chess login page</title>\n                <meta name=\"google-signin-client_id\" content=\"343458998580-0n44n2lqssm0s59tnobhtacdnsmjs302.apps.googleusercontent.com\"/>\n                <script src=\"https://apis.google.com/js/platform.js\" async defer></script>\n            </head>\n            <div class=\"header\">\n                <div class=\"loggedIn\">\n                    <h4>{user}</h4>\n                    <h4>{emailName}</h4>\n                </div>\n                \n                {page == true ? null : (\n                <div class='Page1'>\n                    <h1 class=\"title\" id=\"top\">Penalty Chess</h1>\n                    <br/>\n                    <br/>\n                    <br/>\n                    <div>\n                        <div class=\"google\">\n                            <h2>Login to play:</h2>\n                            <br/>\n                            <GoogleLogin\n                            buttonText=\"Login with Google\"\n                            onSuccess={responseGoogle}\n                            onFailure={responseGoogle}\n                            cookiePolicy={'single_host_origin'}\n                            />\n                        </div>\n                        <br/>\n                        <br/>\n                        <br/>\n                    </div>\n                    <br/>\n                    <br/>\n                    <br/>\n                </div> \n                \n                )}\n                \n                <div class='Page2'>\n                {page === false ? null : (\n                    <div class=\"chessBoard\">\n            \n                        <div class=\"google\" >\n                            <h1>Hello: {user}</h1>\n                            <h2>Players: {player1}, {player2}</h2>\n                            <h2> Spectators: {Spectator} </h2>\n                        </div>\n                        <div className=\"board\" id={user}>\n                            <BlindChess\n                             socket={socket}\n                             user_data={user_data}\n                             user_name={color}\n                             />\n                        </div>\n                        <div className=\"chat\" >\n                            <Chat className=\"chat\"/>\n                        </div>\n\n                        \n                        <div className=\"Stats\">\n                            <Stats className=\"Stats\"/>\n                        </div>\n\n                    </div> )}\n                \n                </div>\n            </div>\n        </div> \n);\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}