{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/Project_3_group4-best-group-btw-/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport { GoogleLogin } from 'react-google-login';\nimport axios from 'axios';\nimport React, { useState, useRef, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { Sample } from './board';\nimport BlindChess from './chessboard.js';\nimport Chat from './chat.js'; // https://oauth2.googleapis.com/tokeninfo?id_token={token}\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io();\nexport function Login() {\n  _s();\n\n  const [Login, setLogin] = useState(false);\n  const [page, setPage] = useState(false);\n  const [user, setUser] = useState([]);\n  const [emailName, setEmail] = useState([]);\n  console.log(\"Is the user logged in? \", Login);\n\n  if (Login == true) {\n    console.log(user);\n    console.log(emailName); //User and email would be used to update the database.\n\n    console.log(\"Time to change page\"); //will have to link this to switchPage to try and switch the page to the next one\n\n    socket.emit('login', {\n      user: user,\n      email: emailName\n    });\n    setLogin(false);\n  }\n\n  const responseGoogle = response => {\n    console.log(response);\n    console.log(response['tokenId']);\n    const url = 'https://oauth2.googleapis.com/tokeninfo?id_token=' + response['tokenId'];\n    axios.get(url).then(name => {\n      const userName = name['data']['given_name'];\n      console.log(name['data']['given_name']);\n      console.log(\"userName\", userName);\n      setUser(setName => userName);\n    });\n    axios.get(url).then(email => {\n      const emailUser = email['data']['email'];\n      console.log(email['data']['email']);\n      console.log(\"emailUser\", emailUser);\n      setEmail(setName => emailUser);\n      setLogin(true);\n      setPage(true);\n    }); //Need to change the webpage to the next page once logged in\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"head\", {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Penalty chess login page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"google-signin-client_id\",\n        content: \"343458998580-grsva1siatfujrucu7b75hug4hocopsg.apps.googleusercontent.com\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n        src: \"https://apis.google.com/js/platform.js\",\n        async: true,\n        defer: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"body\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"loggedIn\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: emailName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), page == true ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"Page1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          class: \"title\",\n          children: \"Penalty Chess\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"google\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Login to play:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(GoogleLogin, {\n              buttonText: \"Login with Google\",\n              onSuccess: responseGoogle,\n              onFailure: responseGoogle,\n              cookiePolicy: 'single_host_origin'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"Page2\",\n        children: page === false ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"chessBoard\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"board\",\n            children: /*#__PURE__*/_jsxDEV(BlindChess, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat\",\n            children: /*#__PURE__*/_jsxDEV(Chat, {\n              className: \"chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"mzH6IDJ6HCbLos07wM9EiLg8/n4=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/ec2-user/environment/Project_3_group4-best-group-btw-/src/Login.js"],"names":["GoogleLogin","axios","React","useState","useRef","useEffect","io","Sample","BlindChess","Chat","socket","Login","setLogin","page","setPage","user","setUser","emailName","setEmail","console","log","emit","email","responseGoogle","response","url","get","then","name","userName","setName","emailUser"],"mappings":"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","sourcesContent":["import './App.css';\nimport { GoogleLogin } from 'react-google-login';\nimport axios from 'axios';\nimport React, { useState, useRef, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { Sample } from './board';\nimport BlindChess from './chessboard.js';\nimport Chat from './chat.js';\n\n// https://oauth2.googleapis.com/tokeninfo?id_token={token}\nconst socket = io();\n\nexport function Login() {\n    const [Login, setLogin] = useState(false);\n    const [page, setPage] = useState(false);\n    const [user, setUser] = useState([]);\n    const [emailName, setEmail] = useState([]);\n    \n    \n    \n    console.log(\"Is the user logged in? \",Login);\n    if(Login == true){\n        console.log(user);\n        console.log(emailName);         //User and email would be used to update the database.\n        console.log(\"Time to change page\"); //will have to link this to switchPage to try and switch the page to the next one\n        socket.emit('login', { user: user , email: emailName});\n        setLogin(false);\n        }\n        \n    \n    const responseGoogle = (response) => {\n        console.log(response);\n        console.log(response['tokenId']);\n        \n        const url = 'https://oauth2.googleapis.com/tokeninfo?id_token=' + response['tokenId'];\n        \n        axios.get(url)\n            .then(name => { \n                const userName = name['data']['given_name'];\n                \n                \n                console.log(name['data']['given_name']);\n                console.log(\"userName\",userName);\n                setUser(setName => userName);\n            });\n            \n            \n        axios.get(url)\n            .then(email => {\n                const emailUser = email['data']['email'];\n                console.log(email['data']['email']);\n                console.log(\"emailUser\",emailUser);\n                setEmail(setName => emailUser);\n                setLogin(true);\n                setPage(true);\n            });\n            \n        //Need to change the webpage to the next page once logged in\n        };\n    \n    \n    return(\n        <div class=\"login\">\n            <head>\n                <title>Penalty chess login page</title>\n                <meta name=\"google-signin-client_id\" content=\"343458998580-grsva1siatfujrucu7b75hug4hocopsg.apps.googleusercontent.com\"/>\n                <script src=\"https://apis.google.com/js/platform.js\" async defer></script>\n            </head>\n            <body>\n                <div class=\"loggedIn\">\n                    <h4>{user}</h4>\n                    <h4>{emailName}</h4>\n                </div>\n                \n                {page == true ? null : (\n                <div class='Page1'>\n                <h1 class=\"title\">Penalty Chess</h1>\n                \n                <br/>\n                <br/>\n                <br/>\n            \n                <div>\n                    <div class=\"google\">\n                \n                    <h3>Login to play:</h3>\n                    \n                            <br/>\n                            <GoogleLogin\n                            buttonText=\"Login with Google\"\n                            onSuccess={responseGoogle}\n                            onFailure={responseGoogle}\n                            cookiePolicy={'single_host_origin'}\n                        />\n                        </div>\n                    </div>\n                </div> )}\n                \n                <div class='Page2'>\n                {page === false ? null : (\n                    <div class=\"chessBoard\">\n                        <div className=\"board\">\n                            <BlindChess/>\n                        </div>\n                        <div className=\"chat\">\n                            <Chat className=\"chat\"/>\n                        </div>\n                    </div> )}\n                \n                </div>\n            </body>\n        </div> \n);\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}